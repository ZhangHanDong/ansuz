<%= title "Users" -%>
<% content_for :sidebar do -%>
  <%= link_to "Add User", new_admin_user_path -%>
  <div class='note'>
    Right now the only users that exist are able to log in to the admin section.  Soon we'll need site-users, and the Access Control Layer will need to be built.  I intend this to be role-based, and built around the authorization plugin because of its fine granularity. I would want to be able to allow a plugin to programatically manage access to a page, etc.
  </div>
<% end -%>
<table class='subdued'>
  <thead>
    <tr>
      <th>Username</th>
      <th>Email</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| -%>
      <tr class='<%= cycle('odd', 'even') -%>'>
        <td><%= link_to user.login, edit_admin_user_path(user) -%></td>
        <td><%= mail_to user.email -%></td>
        <td>
          <%= link_to "Edit", edit_admin_user_path(user) -%> | 
          <%= link_to "Delete", admin_user_path(user), :method => :delete, :confirm => "Are you sure you want to delete this user?" -%>
        </td>
      </tr>
    <% end -%>
  </tbody>
</table>
